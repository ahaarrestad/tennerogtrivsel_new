@import "tailwindcss";

/* Legg til denne linjen for å aktivere typography i v4 */
@plugin "@tailwindcss/typography";

@theme {
    /* Dette lager klassen 'text-brand' og 'bg-brand' */
    --color-brand: var(--color-slate-800);
    --color-brand-dark: var(--color-slate-800);
    --color-brand-hover: var(--color-slate-500);
    --color-brand-active: var(--color-slate-100);
    --color-brand-border: var(--color-slate-100);
    --color-brand-light: var(--color-slate-50);
    --color-brand-message-box: var(--color-slate-300);
    --color-brand-message-banner: var(--color-slate-400);
}

@layer components {
    .brand-text {
        color: var(--color-brand);
    }

    /* Hovedseksjonen - styrer padding i topp og bunn og sikrer lik spacing */
    .section-container {
        @apply scroll-mt-6 relative py-16 md:py-24;
    }

    /* Innholds-wrapperen - sikrer at alt innhold har samme maksimale bredde */
    .section-content {
        @apply container mx-auto px-4;
    }

    /* Overskrifts-gruppen */
    .section-header {
        @apply text-center mb-12 md:mb-20 mx-auto max-w-4xl;
        @apply mb-16 md:mb-48;
    }

    /* Denne klassen gjør headeren sticky kun på mobil */
    .section-header-sticky {
        @apply sticky md:relative z-30 py-4 md:py-0;
        /* Plasseres rett under navbaren */
        top: var(--nav-total-height, 4rem);
        /* Bruker bakgrunnsfargen til seksjonen for å skjule kortene bak */
        background-color: inherit;
        @apply py-4 md:py-0;
    }

    /* Selve overskriften i seksjonen */
    .section-heading {
        @apply text-3xl md:text-5xl font-black text-brand tracking-tight;
    }

    /* Du kan også legge til den blå streken som en gjenbrukbar klasse hvis du vil */
    .heading-accent {
        @apply w-20 h-1 bg-brand-dark mx-auto mt-4;
    }

    /* Teksten under overskriften */
    .section-intro {
        @apply text-slate-600 max-w-2xl mx-auto mt-2 text-base md:text-lg leading-relaxed;
    }

    /* FELLES KORT-LOGIKK */
    .stack-card {
        @apply sticky md:relative transition-all duration-300 overflow-hidden;
        /* Standardverdier for desktop */
        top: 0;
        z-index: 1;
    }

    @media (max-width: 767px) {
        .stack-card {
            position: sticky !important;
            /* Vi bruker en variabel --header-offset som vi kan justere per side hvis nødvendig */
            top: calc(var(--nav-total-height, 4rem) + var(--header-offset, 150px) + (var(--card-index) * 4px)) !important;
            z-index: var(--card-index);
            margin-bottom: 10vh !important;
        }

        .stack-card:last-child {
            margin-bottom: 2rem !important;
        }
    }

    @media (min-width: 768px) {
        .stack-card {
            position: relative !important;
            top: 0 !important;
            z-index: 1 !important;
            margin-bottom: 0 !important;
        }
    }

    /* FELLES DESIGN FOR ALLE KORT */
    .card-base {
        @apply bg-white p-8 rounded-3xl border border-brand-border shadow-sm;
        @apply flex flex-col relative overflow-hidden transition-all duration-300;
    }

    /* Den blå sirkel-detaljen i hjørnet (valgfri å bruke) */
    .card-accent-corner {
        @apply absolute top-0 right-0 w-20 h-20 bg-slate-200 rounded-bl-full -mr-8 -mt-8 transition-colors;
    }

    /* Den blå linjen som animeres i bunnen ved hover */
    .card-progress-bar {
        @apply absolute bottom-0 left-0 h-1.5 bg-brand-dark w-0 transition-all duration-500 hidden md:block;
    }

    /* Hover-effekt på selve kortet */
    .card-base:hover .card-progress-bar {
        @apply w-full;
    }

    .card-base:hover .card-accent-corner {
        @apply bg-brand-active;
    }

    /* Tittel inni kortet */
    .card-title {
        @apply text-2xl font-bold text-brand mb-2 transition-colors relative z-10;
    }

    /* Undertittel (f.eks. tittel for tannleger eller merkelapper) */
    .card-subtitle {
        @apply text-lg text-brand font-semibold italic mb-4 relative z-10;
    }

    /* Brødtekst / beskrivelse i kortet */
    .card-text {
        @apply text-slate-600 text-sm md:text-base leading-relaxed relative z-10;
    }

    /* Spesifikk styling for "Les mer" eller smådetaljer */
    .card-link {
        @apply mt-auto pt-6 flex items-center text-slate-600 font-bold text-xs uppercase tracking-widest relative z-10;
    }

    /* Blå knapp (Primær) */
    .btn-primary {
        @apply inline-flex items-center justify-center gap-2 px-8 py-4 border border-brand text-brand font-bold rounded-2xl
        shadow-lg transition-all duration-300 hover:text-brand hover:bg-brand-active hover:shadow-xl hover:-translate-y-0.5
        whitespace-nowrap min-w-fit relative z-10;
    }

    /* Samkjøring av Markdown-innhold */
    .markdown-content.prose {
        /* Vi fjerner faste størrelser her og lar Tailwind Typography styre basisen,
           men vi sikrer fargen og bredden */
        @apply text-slate-600 leading-relaxed;
        max-width: none !important;
    }

    /* Vi tvinger paragrafene til å matche .section-intro sin størrelse (base/lg) */
    .markdown-content.prose p {
        @apply text-slate-600 text-base md:text-lg leading-relaxed mb-6;
        margin-top: 0 !important;
    }

    /* Overskrifter inni Markdown */
    .markdown-content.prose h2,
    .markdown-content.prose h3 {
        @apply text-brand font-bold mt-12 mb-4 tracking-tight;
    }

    .markdown-content.prose h2 { @apply text-2xl md:text-3xl; }
    .markdown-content.prose h3 { @apply text-xl; }

    .markdown-content.prose strong {
        @apply text-brand font-bold;
    }

    .markdown-content.prose ul {
        @apply list-disc list-outside ml-6 space-y-2 text-slate-600;
    }
}
