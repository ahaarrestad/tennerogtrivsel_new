<div id="banner-root" class="hidden sticky top-0 z-[60] bg-slate-900 text-white py-2.5 px-4 border-b border-white/10">
    <div class="container mx-auto flex items-center justify-center text-center">
        <p class="text-xs md:text-sm font-medium tracking-wide flex items-center gap-2">
            <span class="inline-block animate-pulse w-2 h-2 rounded-full bg-blue-400"></span>
            <span id="banner-title"></span>
        </p>
    </div>
</div>

<script>
    import { getActiveMessage } from '../scripts/messageClient.js';

        async function initBanner() {
            const active = await getActiveMessage();
            const root = document.getElementById('banner-root');
            const titleEl = document.getElementById('banner-title');
            const navWrapper = document.getElementById('navbar-sticky-wrapper');

            if (active && root && titleEl) {
                // Sett tittel og vis
                titleEl.textContent = active.title;
                root.classList.remove('hidden');

                // Juster navbar (40px er ca høyden på banneret)
                if (navWrapper) navWrapper.style.top = root.offsetHeight + 'px';
                } else {
                if (root) root.classList.add('hidden');
                if (navWrapper) navWrapper.style.top = '0px';
                }
            }

        document.addEventListener('astro:page-load', initBanner);
        initBanner();
</script>